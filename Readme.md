Интернет-аукцион «YetiCave» – это простой сервис, позволяющий пользователям продать свои личные вещи по максимально выгодной для них цене - на основе аукциона.

Пользователь, предложивший максимальную цену получает вещь по этой стоимости.

Основные сценарии использования сайта:
Публикация лота
Добавление ставок
Поиск лотов по категориям и названиям
Определение победителя на основе максимальной ставки
Техническое описание
Для разработки сайта предлагается уже готовая верстка, от программиста требуется лишь написать так называемый бэкенд сайта, т.е. сделать сайт динамическим, реализовать возможности по добавлению, просмотру лотов и приему ставок.

Регистрация нового акканта
Выполняется после заполнения формы на странице «Регистрация аккаунта». Последовательность действий:

Проверить, что отправлена форма
Убедиться, что заполнены все обязательные поля
Проверить, что указанный email уже не используется другим пользователем
Если есть ошибки заполнения формы, то сохранить их в отдельном массиве
Если ошибок нет, то сохранить данные формы в таблице пользователей
Если был выбран файл аватара, то сохранить его в отдельной публичной папке и добавить ссылку на аватар в таблицу пользователей
Если были допущены ошибки (не заполнены все поля, email занят и т.д.), то не сохранять данные, а показать ошибки в форме под соотвествующими полями.

Если данные были сохранены успешно, то переадресовать пользователя на страницу входа, где показать сообщение над формой «Теперь вы можете войти, используя свой email и пароль».

Публикация нового лота
Страница доступна только аутентифицированным пользователям.

Выполняется после заполнения формы на странице «Добавление лота». Все поля формы обязательны к заполнению. Последовательность действий:

Проверить, что отправлена форма
Убедиться, что заполнены все поля
Выполнить все проверки
Если есть ошибки заполнения формы, то сохранить их в отдельном массиве
Если ошибок нет, то сохранить новый лот в таблице лотов, а файл изображения перенести в публичную директорию и сохранить ссылку
При успешном сохранении формы переадресовывать пользователя на страницу просмотра лота.

Авторизация на сайте
Выполняется после заполнения формы на странице «Авторизация на сайте». Последовательность действий:

Проверить, что отправлена форма
Убедиться, что заполнены все обязательные поля
Если есть ошибки заполнения формы, то сохранить их в отдельном массиве
Найти в БД пользователя с переданным email
Проверить, что переданный в форме пароль совпадает с сохраненным
Если пользователь найден и пароли совпадают, то открыть новую сессию, в которую записать идентификатор пользователя
После успешной авторизации пользователь попадает на главную страницу.


Добавление ставки
Выполняется после заполнения формы на странице просмотра лота. Последовательность действий:

Проверить, что пользователь залогинен
Убедиться, что заполнено поле «ваша сумма»
Выполнить проверку значения поля «ваша сумма»
Добавить ставку в таблицу ставок с привязкой к лоту
Проверка ставки Значение поля «ваша сумма» должно отвечать следующим требованиям:

целое положительное число
значение должно быть больше, чем текущая цена лота + минимальный шаг

Определение победителя
Главная задача сервиса – это определять победившую ставку по истечению времени размещения лота. Код для этого процесса можно разместить в отдельном сценарии и подключить к показу главной страницы, таким образом он будет выполняться при каждом посещении пользователем главной страницы.

Поиск
Выполняется после отправки формы поиска с любой страницы.

Последовательность действий:

Проверить, что была отправлена форма
Получить текст из поля поиска и убрать пробелы функцией trim
Проверить, что получившаяся строка не пустая
Выполнить поиск в таблице лотов по полям «имя» и «описание», используя SQL оператор «LIKE»
Показать результаты поиска на соответствующей странице
Примечания

Искать следует как по описанию и названию.
